{
  "openapi": "3.0.0",
  "info": {
    "title": "Mountain Info API",
    "version": "1.0.0",
    "description": "Provides weather, air quality, and sunrise/sunset times for mountain trails."
  },
  "components": {
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT"
      }
    },
    "schemas": {
      "TrailDTO": {
        "type": "object",
        "properties": {
          "trailName": {
            "type": "string",
            "description": "등산로의 이름.",
            "example": "고은산"
          },
          "distance": {
            "type": "string",
            "description": "등산로의 거리 (미터 단위).",
            "example": "210"
          },
          "difficulty": {
            "type": "string",
            "description": "등산로의 난이도.",
            "example": "하"
          },
          "coordinates": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "lat": {
                  "type": "number",
                  "description": "등산로 좌표의 위도.",
                  "example": 37.58425949337148
                },
                "lng": {
                  "type": "number",
                  "description": "등산로 좌표의 경도.",
                  "example": 126.94293272074904
                }
              }
            }
          }
        }
      },
      "ErrorResponse": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "description": "발생한 오류에 대한 메시지.",
            "example": "Bad Request: 'trailName' query parameter is required."
          }
        }
      },
      "MountainInfoResponse": {
        "type": "object",
        "properties": {
          "weather": {
            "$ref": "#/components/schemas/WeatherDTO"
          },
          "airQuality": {
            "$ref": "#/components/schemas/AirQualityDTO"
          },
          "sunTimes": {
            "$ref": "#/components/schemas/SunTimeDTO"
          }
        }
      },
      "WeatherDTO": {
        "type": "object",
        "properties": {
          "temperature": {
            "type": "number",
            "description": "현재 기온 (섭씨).",
            "example": 5.6
          },
          "condition": {
            "type": "integer",
            "description": "날씨 조건 코드 (예: 0은 강수 없음).",
            "example": 0
          },
          "windSpeed": {
            "type": "number",
            "description": "풍속 (m/s).",
            "example": 0.2
          },
          "rainWarning": {
            "type": "boolean",
            "description": "비 경고 여부.",
            "example": false
          },
          "windWarning": {
            "type": "boolean",
            "description": "풍속 경고 여부.",
            "example": false
          }
        }
      },
      "AirQualityDTO": {
        "type": "object",
        "properties": {
          "fineDustIndex": {
            "type": "integer",
            "description": "미세먼지 지수 (PM10).",
            "example": 32
          },
          "ultrafineDustIndex": {
            "type": "integer",
            "description": "초미세먼지 지수 (PM2.5).",
            "example": 23
          },
          "fineDustStatus": {
            "type": "string",
            "description": "미세먼지 상태.",
            "example": "Good"
          },
          "ultrafineDustStatus": {
            "type": "string",
            "description": "초미세먼지 상태.",
            "example": "Good"
          }
        }
      },
      "SunTimeDTO": {
        "type": "object",
        "properties": {
          "sunrise": {
            "type": "string",
            "description": "일출 시간 (현지 시간).",
            "example": "7:26:54 AM"
          },
          "sunset": {
            "type": "string",
            "description": "일몰 시간 (현지 시간).",
            "example": "5:15:33 PM"
          }
        }
      }
    }
  },
  "security": [
    {
      "bearerAuth": []
    }
  ],
  "servers": [
    {
      "url": "https://ek8c3h52ac.execute-api.ap-northeast-2.amazonaws.com",
      "description": "Deployment Environment"
    },
    {
      "url": "http://localhost:8000",
      "description": "Local Development Server"
    }
  ],
  "paths": {
    "/access": {
      "get": {
        "summary": "액세스 토큰을 검증하고 사용자 정보를 반환",
        "description": "이 API는 헤더에 전달된 액세스 토큰을 검증하고 사용자 정보를 반환합니다.\n- 사용자 정보로는 `username`, `email`, `isValid` 상태가 포함됩니다.\n",
        "security": [
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "description": "인증을 위한 Bearer 액세스 토큰",
            "required": true,
            "schema": {
              "type": "string",
              "example": "Bearer eyJraWQiOiJoQzJzRUtzb0VyengxVlk5T1JcL3U4ZnZnYjZnSEJkcFc4MjVhNzNcLyt2V2M9IiwiYWxnIjoiUlMyNTYifQ..."
            }
          }
        ],
        "responses": {
          "200": {
            "description": "성공적으로 액세스 토큰이 성공적으로 검증되었고 사용자 정보를 반환했습니다.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "username": {
                      "type": "string",
                      "description": "사용자 ID",
                      "example": "8408edcc-6091-70b1-1601-36f47e91b209"
                    },
                    "email": {
                      "type": "string",
                      "description": "이메일",
                      "example": "pyeonk33@gmail.com"
                    },
                    "isValid": {
                      "type": "boolean",
                      "example": true
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "잘못된 요청 - 요청이 잘못되었습니다."
          },
          "401": {
            "description": "인증되지 않음 - 만료되었거나 유효하지 않은 액세스 토큰입니다."
          },
          "500": {
            "description": "서버 내부 오류"
          }
        }
      }
    },
    "/climbing/trail/alternative": {
      "get": {
        "summary": "같은 산의 다른 등산로 추천",
        "description": "사용자의 위치와 원하는 난이도에 따라 같은 산의 다른 등산로를 추천합니다.",
        "parameters": [
          {
            "in": "query",
            "name": "lat",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "현재 위치의 위도.",
            "example": "37.565189"
          },
          {
            "in": "query",
            "name": "lng",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "현재 위치의 경도.",
            "example": "126.966055"
          },
          {
            "in": "query",
            "name": "difficulty",
            "required": true,
            "schema": {
              "type": "string",
              "enum": ["easy", "medium", "hard"]
            },
            "description": "등산로의 난이도 (easy, medium, hard).",
            "example": "easy"
          },
          {
            "in": "query",
            "name": "count",
            "required": true,
            "schema": {
              "type": "integer",
              "minimum": 1
            },
            "description": "새로 추천 받은 횟수 (자연수 1부터 1씩 증가).",
            "example": 3
          }
        ],
        "responses": {
          "200": {
            "description": "대체 등산로를 성공적으로 추천했습니다.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TrailDTO"
                }
              }
            }
          },
          "400": {
            "description": "잘못된 요청 - 필수 파라미터가 누락되었거나 유효하지 않습니다.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "서버 내부 오류.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/sign-up": {
      "post": {
        "summary": "회원가입",
        "description": "[회원가입 페이지]\n- 이메일은 Gmail이어야 합니다.\n- 비밀번호는 다음 조건을 만족해야 합니다:\n  - 최소 8자 이상\n  - 대문자 영어 1개 이상 포함\n  - 소문자 영어 1개 이상 포함\n  - 숫자 1개 이상 포함\n  - 특수 문자 1개 이상 포함\n",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "email": {
                    "type": "string",
                    "description": "사용자 이메일",
                    "example": "pyeonk33@gmail.com"
                  },
                  "password": {
                    "type": "string",
                    "description": "사용자 비밀번호",
                    "example": "Abcde12345**"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "회원가입이 성공적으로 완료되었습니다.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "pyeonk33@gmail.com 이메일로 회원 가입이 성공적으로 완료되었습니다."
                    },
                    "sub": {
                      "type": "string",
                      "example": "74d87d9c-20a1-7039-6a3d-070c869a779e"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "잘못된 요청 - 요청이 잘못되었습니다."
          },
          "500": {
            "description": "서버 내부 오류"
          }
        }
      }
    },
    "/climbing/trail": {
      "get": {
        "summary": "등산객 위치로부터 가장 가까운 등산로 정보 조회",
        "description": "[등산로 추천 페이지]\n- `등산객 위치`로부터 가장 가까운 `등산로 정보`를 제공합니다.\n",
        "security": [
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "description": "인증을 위한 Bearer 액세스 토큰",
            "required": true,
            "schema": {
              "type": "string",
              "example": "Bearer eyJraWQiOiJoQzJzRUtzb0VyengxVlk5T1JcL3U4ZnZnYjZnSEJkcFc4MjVhNzNcLyt2V2M9IiwiYWxnIjoiUlMyNTYifQ..."
            }
          },
          {
            "in": "query",
            "name": "lat",
            "required": true,
            "schema": {
              "type": "string",
              "example": 37.413294
            },
            "description": "위도"
          },
          {
            "in": "query",
            "name": "lng",
            "required": true,
            "schema": {
              "type": "string",
              "example": 127.0277194
            },
            "description": "경도"
          },
          {
            "in": "query",
            "name": "difficulty",
            "required": true,
            "schema": {
              "type": "string",
              "enum": ["easy", "moderate", "hard"]
            },
            "description": "등산로 난이도 (easy, moderate, hard)"
          }
        ],
        "responses": {
          "200": {
            "description": "성공적으로 등산객 위치로부터 가장 가까운 등산로 정보를 조회합니다.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "trailName": {
                      "type": "string",
                      "description": "등산로 이름",
                      "example": "인왕산"
                    },
                    "distance": {
                      "type": "string",
                      "description": "등산로 거리",
                      "example": "470"
                    },
                    "difficulty": {
                      "type": "string",
                      "description": "등산로 난이도",
                      "example": "하"
                    },
                    "coordinates": {
                      "type": "array",
                      "description": "등산로 경로 좌표 배열",
                      "items": {
                        "type": "object",
                        "properties": {
                          "lat": {
                            "type": "string",
                            "description": "위도"
                          },
                          "lng": {
                            "type": "string",
                            "description": "경도"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "잘못된 요청 또는 필수 파라미터 누락",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "integer",
                      "description": "HTTP 상태 코드",
                      "example": 400
                    },
                    "message": {
                      "type": "string",
                      "description": "오류 메시지",
                      "example": "필수 파라미터가 누락되었습니다."
                    }
                  }
                },
                "examples": {
                  "missing_parameters": {
                    "value": {
                      "status": 400,
                      "message": "필수 파라미터가 누락되었습니다."
                    }
                  },
                  "invalid_difficulty": {
                    "value": {
                      "status": 400,
                      "message": "difficulty 파라미터 값은 easy, moderate, hard 중 하나여야 합니다."
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "범위 내 가까운 등산로를 찾을 수 없습니다.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "integer",
                      "description": "HTTP 상태 코드",
                      "example": 404
                    },
                    "message": {
                      "type": "string",
                      "description": "오류 메시지",
                      "example": "해당 좌표와 일치하는 등산로를 찾을 수 없습니다."
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "서버 내부 오류"
          }
        }
      }
    },
    "/confirm": {
      "post": {
        "summary": "인증 코드 확인",
        "description": "[회원가입 페이지]\n- 이메일로 전송된 인증코드를 검증하여 회원가입을 완료합니다.\n",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "sub": {
                    "type": "string",
                    "description": "사용자의 고유 ID (sub)",
                    "example": "94e8dd9c-80c1-70f7-c068-25386c735cb2"
                  },
                  "confirmationCode": {
                    "type": "string",
                    "description": "인증 코드",
                    "example": "288386"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "성공적으로 인증 성공, 회원가입이 완료되었습니다.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "94884d9c-e041-70ee-3b29-a9564ef4f469님, 회원 가입과 인증이 성공적으로 완료되었습니다."
                    },
                    "confirmResponse": {
                      "type": "object",
                      "properties": {
                        "$metadata": {
                          "type": "object",
                          "properties": {
                            "httpStatusCode": {
                              "type": "integer",
                              "example": 200
                            },
                            "requestId": {
                              "type": "string",
                              "example": "ac35dde1-bb43-42d5-a983-75dfe03e6686"
                            },
                            "attempts": {
                              "type": "integer",
                              "example": 1
                            },
                            "totalRetryDelay": {
                              "type": "integer",
                              "example": 0
                            }
                          }
                        },
                        "Session": {
                          "type": "string",
                          "example": "AYABeA3gcrf4vNh7WOTpjILyZ9sAHQABAAdTZXJ2aWNlABBDb2duaXRvVXNlclBvb2xzAAEAB2F3cy1rbXMAUGFybjphd3M6a21zOmFwLW5vcnRoZWFzdC0yOjY5OTk5OTk3OTg5OTprZXkvYTYxNzAwZmQtMmVlYi00NzgyLWJlZjgtYjdhY2NlZjNjYzRiALgBAgEAeK0hGvRyqg86ee0d1pzYOvWTcaqOLNpxRUWkiCDL3zoGAbPUDF-cHupHiH0SDHbOzLAAAAB-MHwGCSqGSIb3DQEHBqBvMG0CAQAwaAYJKoZIhvcNAQcBMB4GCWCGSAFlAwQBLjARBAwPv1W42fOPBXAIrq0CARCAO8YP_NcXy3GlgPeMvz1SjEwVXvXH2zZSc0MeWS238Cg1-87dGo1mXepB-vYfhmf0yfhH2qVsNgGD1jxuAgAAAAAMAAAQAAAAAAAAAAAAAAAAAIYRKkilNPVQwfSkFOYxOs______AAAAAQAAAAAAAAAAAAAAAQAAAWSS9kDcze6YFtEv-KrUwQpsJHX_OLY82M1exOzHYc2oJXWn4u0gYaHDdI3YPImNscNAizyFzqthdE-f-57UOCZ0ilc3EWmEJiOvSddwi2NAfXhV67XaxjuOKdDnHCtG2sznR5tn8_Rvye-KATGpAqG-r3I8zNWFg8b7KLXN-6eJJaKdjbu58xK_vTEDry2FGdglEqLqF_hHN4WdDR-fLuRozFcAY3m_eDqTQ_bXaW-2WGSsTXHzDoyfmF1IyEBUT2hsAegyi0Lf2PSRahGKCOCi0q42SY6WX5L4oZ-ROqmmSZmst9PzaHQealpL2yAYc4fB5IwRFvT3Tdi6VCj5o76v99XEWykv7-mBI9rJid7ck-ZkDCnGS_3tOLtuNvXNlV4C58OzF69cjPspec1xNvdpGzViX_EqWiWfv83_Jj2Fu7hSdHjZHcgHEEe5qom6k7EQjeZES8zb6QTYGhNviMtaU6fq7dZwIfDvL25vHuQAffj0TyQ"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "잘못된 요청 - 요청(잘못된 인증코드)이 잘못되었습니다."
          },
          "500": {
            "description": "서버 내부 오류"
          }
        }
      }
    },
    "/climbing/trail/different": {
      "get": {
        "summary": "다른 산의 등산로 추천 조회",
        "description": "사용자의 위치와 원하는 난이도에 따라 제외할 산들을 제외하고 다른 산의 등산로를 추천합니다.",
        "parameters": [
          {
            "in": "query",
            "name": "lat",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "현재 위치의 위도.",
            "example": "37.565189"
          },
          {
            "in": "query",
            "name": "lng",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "현재 위치의 경도.",
            "example": "126.966055"
          },
          {
            "in": "query",
            "name": "difficulty",
            "required": true,
            "schema": {
              "type": "string",
              "enum": ["easy", "medium", "hard"]
            },
            "description": "등산로의 난이도 (easy, medium, hard).",
            "example": "easy"
          },
          {
            "in": "query",
            "name": "excludedMountains",
            "required": true,
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "description": "제외할 산들의 이름 목록.",
            "example": ["안산", "인왕산"]
          }
        ],
        "responses": {
          "200": {
            "description": "다른 등산로를 성공적으로 추천했습니다.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TrailDTO"
                }
              }
            }
          },
          "400": {
            "description": "잘못된 요청 - 필수 파라미터가 누락되었거나 유효하지 않습니다.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "서버 내부 오류.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/subways/nearby": {
      "get": {
        "summary": "등산객 위치로부터 가까운 지하철 역 정보 조회",
        "description": "[가까운 지하철 정보 제공 페이지]\n- 하산할 때, 등산객 위치로부터 `가까운 지하철 역 정보`를 제공합니다.\n",
        "security": [
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "description": "인증을 위한 Bearer 액세스 토큰",
            "required": true,
            "schema": {
              "type": "string",
              "example": "Bearer eyJraWQiOiJoQzJzRUtzb0VyengxVlk5T1JcL3U4ZnZnYjZnSEJkcFc4MjVhNzNcLyt2V2M9IiwiYWxnIjoiUlMyNTYifQ..."
            }
          },
          {
            "in": "query",
            "name": "lat",
            "required": true,
            "description": "위도",
            "schema": {
              "type": "string",
              "example": 37.413294
            }
          },
          {
            "in": "query",
            "name": "lng",
            "required": true,
            "description": "경도",
            "schema": {
              "type": "string",
              "example": 127.0277194
            }
          }
        ],
        "responses": {
          "200": {
            "description": "성공적으로 등산객 위치로부터 가까운 지하철 역 정보를 조회합니다.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "stationName": {
                      "type": "string",
                      "description": "가까운 지하철 역 이름",
                      "example": "시청"
                    },
                    "stationLine": {
                      "type": "string",
                      "description": "가까운 지하철 역 호선",
                      "example": 1
                    },
                    "lat": {
                      "type": "number",
                      "format": "float",
                      "description": "가까운 지하철 역 위도",
                      "example": 37.56359
                    },
                    "lng": {
                      "type": "number",
                      "format": "float",
                      "description": "가까운 지하철 역 경도",
                      "example": 126.975407
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "잘못된 요청 또는 필수 파라미터 누락",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "integer",
                      "description": "HTTP 상태 코드",
                      "example": 400
                    },
                    "message": {
                      "type": "string",
                      "description": "오류 메시지",
                      "example": "필수 파라미터가 누락되었습니다."
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "범위 내 가까운 지하철역을 찾을 수 없습니다.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "integer",
                      "description": "HTTP 상태 코드",
                      "example": 404
                    },
                    "message": {
                      "type": "string",
                      "description": "오류 메시지",
                      "example": "가장 가까운 지하철 역 정보가 없습니다."
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "서버 내부 오류"
          }
        }
      }
    },
    "/climbing/monthly-track": {
      "get": {
        "summary": "등산객의 월별 등산기록 조회",
        "description": "[등산기록 조회 페이지]\n- `year`, `month`로 등산객의 `등산기록`을 조회합니다.\n",
        "security": [
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "description": "인증을 위한 Bearer 액세스 토큰",
            "required": true,
            "schema": {
              "type": "string",
              "example": "Bearer eyJraWQiOiJoQzJzRUtzb0VyengxVlk5T1JcL3U4ZnZnYjZnSEJkcFc4MjVhNzNcLyt2V2M9IiwiYWxnIjoiUlMyNTYifQ..."
            }
          },
          {
            "in": "query",
            "name": "year",
            "required": true,
            "description": "년",
            "schema": {
              "type": "integer",
              "example": 2024
            }
          },
          {
            "in": "query",
            "name": "month",
            "required": true,
            "description": "월",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 12,
              "example": 5
            }
          }
        ],
        "responses": {
          "200": {
            "description": "성공적으로 등산객의 전체 등산 기록을 조회합니다.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "totalHikingTime": {
                      "type": "number",
                      "description": "총 등산 시간",
                      "example": 21802
                    },
                    "totalDistance": {
                      "type": "number",
                      "description": "총 등산 거리",
                      "example": 60
                    },
                    "totalCalories": {
                      "type": "number",
                      "description": "총 소모된 칼로리",
                      "example": 1035
                    },
                    "averageHikingTime": {
                      "type": "number",
                      "description": "평균 등산 시간",
                      "example": 7267.333333333333
                    },
                    "averageDistance": {
                      "type": "number",
                      "description": "평균 등산 거리",
                      "example": 20
                    },
                    "averageCalories": {
                      "type": "number",
                      "description": "평균 소모된 칼로리",
                      "example": 345
                    },
                    "trails": {
                      "type": "array",
                      "description": "등산로 이름",
                      "items": {
                        "type": "string",
                        "example": "백두산"
                      },
                      "example": ["백두산", "북한산"]
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "잘못된 요청 또는 필수 파라미터 누락",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "integer",
                      "description": "HTTP 상태 코드",
                      "example": 400
                    },
                    "message": {
                      "type": "string",
                      "description": "오류 메시지",
                      "example": "필수 파라미터가 누락되었습니다."
                    }
                  }
                },
                "examples": {
                  "missing_parameters": {
                    "value": {
                      "status": 400,
                      "message": "필수 파라미터가 누락되었습니다."
                    }
                  },
                  "not_format": {
                    "value": {
                      "status": 400,
                      "message": "year, month의 형식이 올바르지 않습니다."
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "사용자의 등산기록이 존재하지 않습니다.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "integer",
                      "description": "HTTP 상태 코드",
                      "example": 404
                    },
                    "message": {
                      "type": "string",
                      "description": "오류 메시지",
                      "example": "사용자의 등산기록이 존재하지 않습니다."
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "서버 내부 오류"
          }
        }
      }
    },
    "/climbing/track": {
      "get": {
        "summary": "등산객의 전체 등산기록 조회",
        "description": "[등산기록 조회 페이지]\n- 전체 사용자의 `등산기록`을 조회합니다.\n",
        "security": [
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "description": "인증을 위한 Bearer 액세스 토큰",
            "required": true,
            "schema": {
              "type": "string",
              "example": "Bearer eyJraWQiOiJoQzJzRUtzb0VyengxVlk5T1JcL3U4ZnZnYjZnSEJkcFc4MjVhNzNcLyt2V2M9IiwiYWxnIjoiUlMyNTYifQ..."
            }
          }
        ],
        "responses": {
          "200": {
            "description": "성공적으로 등산객의 전체 등산 기록을 조회합니다.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "totalHikingTime": {
                      "type": "number",
                      "description": "총 등산 시간",
                      "example": 21802
                    },
                    "totalDistance": {
                      "type": "number",
                      "description": "총 등산 거리",
                      "example": 60
                    },
                    "totalCalories": {
                      "type": "number",
                      "description": "총 소모된 칼로리",
                      "example": 1035
                    },
                    "averageHikingTime": {
                      "type": "number",
                      "description": "평균 등산 시간",
                      "example": 7267.333333333333
                    },
                    "averageDistance": {
                      "type": "number",
                      "description": "평균 등산 거리",
                      "example": 20
                    },
                    "averageCalories": {
                      "type": "number",
                      "description": "평균 소모된 칼로리",
                      "example": 345
                    },
                    "trails": {
                      "type": "array",
                      "description": "등산로 이름",
                      "items": {
                        "type": "string",
                        "example": "백두산"
                      },
                      "example": ["백두산", "북한산"]
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "잘못된 요청 또는 필수 파라미터 누락",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "integer",
                      "description": "HTTP 상태 코드",
                      "example": 400
                    },
                    "message": {
                      "type": "string",
                      "description": "오류 메시지",
                      "example": "필수 파라미터가 누락되었습니다."
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "사용자의 등산기록이 존재하지 않습니다.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "integer",
                      "description": "HTTP 상태 코드",
                      "example": 404
                    },
                    "message": {
                      "type": "string",
                      "description": "오류 메시지",
                      "example": "사용자의 등산기록이 존재하지 않습니다."
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "서버 내부 오류"
          }
        }
      },
      "post": {
        "summary": "등산객의 등산기록을 저장",
        "description": "[등산기록 저장 페이지]\n- 등산객의 `등산기록`을 저장합니다.\n",
        "security": [
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "description": "인증을 위한 Bearer 액세스 토큰",
            "required": true,
            "schema": {
              "type": "string",
              "example": "Bearer eyJraWQiOiJoQzJzRUtzb0VyengxVlk5T1JcL3U4ZnZnYjZnSEJkcFc4MjVhNzNcLyt2V2M9IiwiYWxnIjoiUlMyNTYifQ..."
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "trailName": {
                    "type": "string",
                    "description": "등산로 이름",
                    "example": "북한산"
                  },
                  "startDate": {
                    "type": "string",
                    "format": "date-time",
                    "description": "등산 시작 시간",
                    "example": "2024-11-13T00:00:00"
                  },
                  "endDate": {
                    "type": "string",
                    "format": "date-time",
                    "description": "등산 종료 시간",
                    "example": "2024-11-13T00:00:30"
                  },
                  "distance": {
                    "type": "number",
                    "description": "등산 거리",
                    "example": 20
                  },
                  "calories": {
                    "type": "number",
                    "description": "소모된 칼로리",
                    "example": 345
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "성공적으로 등산기록을 저장합니다.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "sub": {
                      "type": "string",
                      "description": "사용자 ID",
                      "example": "abcdefgh"
                    },
                    "trailName": {
                      "type": "string",
                      "description": "등산로 이름",
                      "example": "백두산"
                    },
                    "startDate": {
                      "type": "string",
                      "format": "date-time",
                      "description": "등산 시작 시간",
                      "example": "2024-11-13T00:00:00.000Z"
                    },
                    "endDate": {
                      "type": "string",
                      "format": "date-time",
                      "description": "등산 종료 시간",
                      "example": "2024-11-13T00:00:30.000Z"
                    },
                    "distance": {
                      "type": "number",
                      "description": "등산 거리",
                      "example": 20
                    },
                    "calories": {
                      "type": "number",
                      "description": "소모된 칼로리",
                      "example": 345
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "잘못된 요청 또는 필수 파라미터 누락",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "integer",
                      "description": "HTTP 상태 코드",
                      "example": 400
                    },
                    "message": {
                      "type": "string",
                      "description": "오류 메시지",
                      "example": "year, month의 형식이 올바르지 않습니다."
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "서버 내부 오류"
          }
        }
      }
    },
    "/hikers": {
      "get": {
        "summary": "등산객의 신체정보(몸무게) 조회",
        "description": "[마이 페이지]\n- 등산객의 `신체정보(몸무게)`를 조회합니다.\n",
        "security": [
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "description": "인증을 위한 Bearer 액세스 토큰",
            "required": true,
            "schema": {
              "type": "string",
              "example": "Bearer eyJraWQiOiJoQzJzRUtzb0VyengxVlk5T1JcL3U4ZnZnYjZnSEJkcFc4MjVhNzNcLyt2V2M9IiwiYWxnIjoiUlMyNTYifQ..."
            }
          }
        ],
        "responses": {
          "200": {
            "description": "성공적으로 등산객의 몸무게 정보를 조회합니다.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "sub": {
                      "type": "string",
                      "description": "사용자 ID",
                      "example": "abcdefghijk"
                    },
                    "weight": {
                      "type": "integer",
                      "description": "사용자 신체정보(몸무게)",
                      "example": 68
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "잘못된 요청 또는 필수 파라미터 누락",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "integer",
                      "description": "HTTP 상태 코드",
                      "example": 400
                    },
                    "message": {
                      "type": "string",
                      "description": "오류 메시지",
                      "example": "몸무게 정보를 저장하지 않았습니다."
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "서버 내부 오류"
          }
        }
      },
      "post": {
        "summary": "등산객의 신체정보(몸무게) 저장",
        "description": "[마이 페이지]\n- 등산객의 `신체정보(몸무게)`를 저장합니다.\n",
        "security": [
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "description": "인증을 위한 Bearer 액세스 토큰",
            "required": true,
            "schema": {
              "type": "string",
              "example": "Bearer eyJraWQiOiJoQzJzRUtzb0VyengxVlk5T1JcL3U4ZnZnYjZnSEJkcFc4MjVhNzNcLyt2V2M9IiwiYWxnIjoiUlMyNTYifQ..."
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "weight": {
                    "type": "string",
                    "description": "등산객의 몸무게 정보",
                    "example": 68
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "성공적으로 등산객의 몸무게 정보를 업데이트합니다.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "sub": {
                      "type": "string",
                      "description": "사용자 ID",
                      "example": "abcdefghijk"
                    },
                    "weight": {
                      "type": "integer",
                      "description": "사용자 신체정보(몸무게)",
                      "example": 68
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "잘못된 요청 또는 필수 파라미터 누락",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "integer",
                      "description": "HTTP 상태 코드",
                      "example": 400
                    },
                    "message": {
                      "type": "string",
                      "description": "오류 메시지",
                      "example": "필수 파라미터가 누락되었습니다."
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "서버 내부 오류"
          }
        }
      }
    },
    "/sign-in": {
      "post": {
        "summary": "로그인",
        "description": "[로그인 페이지]\n- 회원가입한 이메일과 비밀번호로 로그인합니다.\n",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "email": {
                    "type": "string",
                    "description": "사용자의 이메일 주소",
                    "example": "pyeonk33@gmail.com"
                  },
                  "password": {
                    "type": "string",
                    "description": "사용자의 비밀번호",
                    "example": "Abcde12345**"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "로그인 성공",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "pyeonk33@gmail.com 이메일로, 로그인에 성공했습니다."
                    },
                    "idToken": {
                      "type": "string",
                      "example": "eyJraWQiOiJSNkZOSWhldmZ3QUdCYzAwNjlqeEtLUDZRT05aZFNcL3A2VE13aVE4dG5OYz0iLCJhbGciOiJSUzI1NiJ9..."
                    },
                    "accessToken": {
                      "type": "string",
                      "example": "eyJraWQiOiJoQzJzRUtzb0VyengxVlk5T1JcL3U4ZnZnYjZnSEJkcFc4MjVhNzNcLyt2V2M9IiwiYWxnIjoiUlMyNTYifQ..."
                    },
                    "refreshToken": {
                      "type": "string",
                      "example": "eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.XMJEOlLJJe64rUJavmyZoAlkf..."
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "잘못된 요청 - 요청이 잘못되었습니다."
          },
          "500": {
            "description": "서버 내부 오류"
          }
        }
      }
    },
    "/sign-out": {
      "post": {
        "summary": "애플리케이션에서 로그아웃",
        "description": "[로그인 페이지]\n- 사용자의 액세스 토큰으로 현재 세션에 대해 종료합니다.\n",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "모든 세션에서 성공적으로 로그아웃됨",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "모든 세션에서 성공적으로 로그아웃되었습니다."
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "잘못된 요청 - 요청이 잘못되었습니다."
          },
          "500": {
            "description": "서버 내부 오류"
          }
        }
      }
    },
    "/refresh": {
      "post": {
        "summary": "리프레시 토큰을 사용하여 새로운 액세스 토큰을 발급하고 사용자 정보를 반환",
        "description": "이 API는 헤더에 전달된 액세스 토큰을 검증하고, 요청 본문에 포함된 리프레시 토큰을 사용하여 새로운 액세스 토큰을 발급합니다.\n- 사용자 정보로는 `username`, `email`, `isValid` 상태가 포함됩니다.\n",
        "requestBody": {
          "description": "리프레시 토큰을 포함한 사용자 정보",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "email": {
                    "type": "string",
                    "description": "사용자의 이메일 주소",
                    "example": "pyeonk33@gmail.com"
                  },
                  "accessToken": {
                    "type": "string",
                    "description": "사용자의 액세스 토큰",
                    "example": "eyJjdHkiOiJKV1QiLCJlbmMik0Ne5ZFhqw"
                  },
                  "refreshToken": {
                    "type": "string",
                    "description": "사용자의 리프레시 토큰",
                    "example": "eyJjdHkiOiJKV1QiLCJlbmMik0Ne5ZFhqw"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "로그인 성공",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "idToken": {
                      "type": "string",
                      "description": "인증된 사용자의 ID 토큰",
                      "example": "eyJraWQiOiJoQzJzRUtzb0VyengxVlk..."
                    },
                    "accessToken": {
                      "type": "string",
                      "description": "인증된 사용자의 액세스 토큰",
                      "example": "eyJhbGciOiJIUzI1NiIsInR5cC..."
                    },
                    "refreshToken": {
                      "type": "string",
                      "description": "인증된 사용자의 리프레시 토큰",
                      "example": "eyJjdHkiOiJKV1QiLCJhbGciOi..."
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "잘못된 요청 - 액세스 토큰 또는 리프레시 토큰이 잘못되었습니다."
          },
          "401": {
            "description": "인증되지 않음 - 만료되었거나 유효하지 않은 액세스 토큰 또는 리프레시 토큰입니다."
          },
          "500": {
            "description": "서버 내부 오류"
          }
        }
      }
    },
    "/mountain-info": {
      "get": {
        "summary": "특정 등산로의 종합 정보 조회",
        "description": "지정된 등산로의 날씨, 대기질, 일출 및 일몰 시간을 제공합니다.",
        "parameters": [
          {
            "in": "query",
            "name": "trailName",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "등산로의 이름."
          }
        ],
        "responses": {
          "200": {
            "description": "등산로 정보를 성공적으로 조회했습니다.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MountainInfoResponse"
                }
              }
            }
          },
          "400": {
            "description": "잘못된 요청 - 'trailName' 쿼리 파라미터가 누락되었거나 유효하지 않습니다.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "서버 내부 오류.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    }
  },
  "tags": []
}
